@model MyPortfolioWebApp.Models.ViewModels.TechnologyViewModel

@{
    Layout = "~/Views/Shared/_AdminPanelLayout.cshtml";
}
@section Header{ Technologie }

<div id="userlist-section" style="margin-right:1em;">
    <table class="table table-hover table-striped table-sm" style="border:solid; border-width: 1px;">
        <thead class="thead-dark">
            <tr>
                <th>#</th>
                <th>Nazwa</th>
                <th class="text-right">Akcje</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var u in Model.Technologies)
            {
                <tr>
                    <td class="align-middle font-weight-bold">@Html.Name(u.TechnologyId.ToString()). </td>
                    <td class="align-middle">
                        @Html.Name(u.Name)
                    </td>
                    <td class="text-right">
                        <button type="button" class="btn btn-danger btn-sm far fa-minus-square text-right" onclick="location.href='@Url.Action("RemoveTechnology", "AdminPanel", new { id = u.TechnologyId })';return false;"> Usun</button>
                    </td>
                </tr>
            }

        </tbody>
    </table>
</div>


<button type="button" class="btn btn-success btn-sm far fa-plus-square text-right" data-toggle="modal" data-target="#AddTechnology"> Dodaj technologie</button>

@{ using (Html.BeginForm("AddTechnology", "AdminPanel"))
    {
        <div class="modal fade" id="AddTechnology" tabindex="-1" role="dialog" aria-labelledby="AddTechnologyLabel" aria-hidden="true">
            <div class="modal-dialog modal-sm" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="AddTechnologyLabel">Dodaj technologie</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>

                    <div class="modal-body">
                        @Html.ValidationMessageFor(model => model.Name, "*", new { @class = "text-danger" })
                        @Html.LabelFor(m => m.Name, new {style = "font-weight: bold; Margin-top: 10px;" })
                        @Html.EditorFor(m => m.Name, new { htmlAttributes = new { @class = "form-control" }, })
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Dodaj</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Zamknij</button>
                    </div>

                </div>
            </div>
        </div>
    }
}